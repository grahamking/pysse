<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Welcome to nginx!</title>
</head>
<body bgcolor="white" text="black">
<center><h1>Welcome to nginx!</h1></center>

<div id="container">Events go here</div>

<script>

    var source = new EventSource("http://localhost:1234/");
    source.addEventListener('message', function(event) {
        console.log(event.data);
        document.getElementById("container").innerHTML = event.data;
    }, false);

    source.addEventListener('open', function(event) {
        console.log("open");
    }, false);

    source.addEventListener('error', function(event) {
        console.log("error");
        if (event.readyState == EventSource.CLOSED) {
            console.log("readyState is CLOSED");
        }
    }, false);

</script>

</body>
</html>
